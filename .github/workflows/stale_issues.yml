name: Check Stale Issues

on:
  schedule:
    # Run every 12 hours
    - cron: '0 */12 * * *'
  workflow_dispatch: # Allow manual trigger

permissions:
  issues: write
  contents: read

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
      - name: Check for stale issues
        uses: actions/stale@v9
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          # Issues awaiting user response
          stale-issue-message: |
            **â° Waiting for Response / En attente de rÃ©ponse**

            ğŸ‡«ğŸ‡· **FranÃ§ais:**
            Cette issue est marquÃ©e comme "en attente de rÃ©ponse" car nous avons besoin d'informations supplÃ©mentaires.
            
            **âš ï¸ Action requise:** Sans rÃ©ponse dans les 48 heures, cette issue sera automatiquement fermÃ©e pour maintenir le projet organisÃ©.
            
            ğŸ’¡ **Que faire:**
            - RÃ©pondez aux questions posÃ©es ci-dessus
            - Fournissez les logs ou informations demandÃ©s
            - Indiquez si le problÃ¨me est rÃ©solu
            
            Si l'issue est fermÃ©e automatiquement et que le problÃ¨me persiste, n'hÃ©sitez pas Ã  rouvrir ou crÃ©er une nouvelle issue avec les informations complÃ¨tes.

            ---

            ğŸ‡¬ğŸ‡§ **English:**
            This issue is marked as "awaiting response" because we need additional information.
            
            **âš ï¸ Action required:** Without a response within 48 hours, this issue will be automatically closed to keep the project organized.
            
            ğŸ’¡ **What to do:**
            - Answer the questions asked above
            - Provide the requested logs or information
            - Indicate if the problem is resolved
            
            If the issue is auto-closed and the problem persists, feel free to reopen or create a new issue with complete information.

          close-issue-message: |
            **ğŸ”’ Auto-closed / FermÃ© automatiquement**

            ğŸ‡«ğŸ‡· Cette issue a Ã©tÃ© fermÃ©e automatiquement en raison de l'absence de rÃ©ponse. Si le problÃ¨me persiste, n'hÃ©sitez pas Ã  crÃ©er une nouvelle issue avec les informations complÃ¨tes.

            ğŸ‡¬ğŸ‡§ This issue was automatically closed due to lack of response. If the problem persists, feel free to create a new issue with complete information.

          days-before-stale: 3
          days-before-close: 2
          stale-issue-label: 'awaiting-response'
          exempt-issue-labels: 'bug,enhancement,in-progress,confirmed'
          operations-per-run: 30
